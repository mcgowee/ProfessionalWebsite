import{s as _e,r as ce}from"../chunks/scheduler.BPZH1ZDm.js";import{S as de,i as fe,z as he,e as p,s as A,t as O,c as g,f as L,g as ee,j as S,h as F,d as k,a as m,m as H,b as W,k as s,n as B,o as Q,p as te,q as pe,r as ge,l as le,u as me,v as ve,w as be,x as ke,y as ye}from"../chunks/index.BfFZuMV8.js";import{e as se}from"../chunks/each.D6YF6ztN.js";import{S as Te}from"../chunks/Spinner.B670ogGe.js";function re(r,e,t){const n=r.slice();return n[14]=e[t].sender,n[15]=e[t].text,n[17]=t,n}function oe(r){let e,t,n,o,c,h,a,w,C,u,l,I,U,N,P;return U=he(r[7][0]),{c(){e=p("div"),t=p("label"),n=p("input"),o=O(`\r
              Spanish`),c=A(),h=p("label"),a=p("input"),w=O(`\r
              German`),C=A(),u=p("label"),l=p("input"),I=O(`\r
              Japanese`),this.h()},l(E){e=g(E,"DIV",{});var _=L(e);t=g(_,"LABEL",{});var y=L(t);n=g(y,"INPUT",{type:!0,name:!0}),o=F(y,`\r
              Spanish`),y.forEach(k),c=S(_),h=g(_,"LABEL",{});var j=L(h);a=g(j,"INPUT",{type:!0,name:!0}),w=F(j,`\r
              German`),j.forEach(k),C=S(_),u=g(_,"LABEL",{});var M=L(u);l=g(M,"INPUT",{type:!0,name:!0}),I=F(M,`\r
              Japanese`),M.forEach(k),_.forEach(k),this.h()},h(){m(n,"type","radio"),m(n,"name","language"),n.__value="spanish",H(n,n.__value),m(a,"type","radio"),m(a,"name","language"),a.__value="german",H(a,a.__value),m(l,"type","radio"),m(l,"name","language"),l.__value="japanese",H(l,l.__value),U.p(n,a,l)},m(E,_){W(E,e,_),s(e,t),s(t,n),n.checked=n.__value===r[4],s(t,o),s(e,c),s(e,h),s(h,a),a.checked=a.__value===r[4],s(h,w),s(e,C),s(e,u),s(u,l),l.checked=l.__value===r[4],s(u,I),N||(P=[B(n,"change",r[9]),B(a,"change",r[10]),B(l,"change",r[11])],N=!0)},p(E,_){_&16&&(n.checked=n.__value===E[4]),_&16&&(a.checked=a.__value===E[4]),_&16&&(l.checked=l.__value===E[4])},d(E){E&&k(e),U.r(),N=!1,ce(P)}}}function ie(r){let e,t,n=r[14]+"",o,c,h,a=r[15]+"",w,C;return{c(){e=p("div"),t=p("strong"),o=O(n),c=O(":"),h=A(),w=O(a),this.h()},l(u){e=g(u,"DIV",{class:!0});var l=L(e);t=g(l,"STRONG",{});var I=L(t);o=F(I,n),c=F(I,":"),I.forEach(k),h=S(l),w=F(l,a),l.forEach(k),this.h()},h(){m(e,"class",C=r[14].toLowerCase()+"-message mb-2 svelte-1y6c8bf")},m(u,l){W(u,e,l),s(e,t),s(t,o),s(t,c),s(e,h),s(e,w)},p(u,l){l&1&&n!==(n=u[14]+"")&&le(o,n),l&1&&a!==(a=u[15]+"")&&le(w,a),l&1&&C!==(C=u[14].toLowerCase()+"-message mb-2 svelte-1y6c8bf")&&m(e,"class",C)},d(u){u&&k(e)}}}function ue(r){let e,t,n;return t=new Te({}),{c(){e=p("div"),me(t.$$.fragment),this.h()},l(o){e=g(o,"DIV",{class:!0});var c=L(e);ve(t.$$.fragment,c),c.forEach(k),this.h()},h(){m(e,"class","flex justify-center items-center mt-2")},m(o,c){W(o,e,c),be(t,e,null),n=!0},i(o){n||(Q(t.$$.fragment,o),n=!0)},o(o){te(t.$$.fragment,o),n=!1},d(o){o&&k(e),ke(t)}}}function we(r){let e,t,n="Chat with OpenAI ChatGPT",o,c,h,a,w,C,u,l,I,U,N,P,E='<p><strong>This chat application is built with <a href="https://svelte.dev/" target="_blank" class="text-indigo-500 hover:underline">Svelte</a> on the frontend and <a href="https://pypi.org/project/Flask/" target="_blank" class="text-green-500 hover:underline">Flask</a> as the API backend.</strong></p> <p>It utilizes <strong>OpenAI&#39;s ChatGPT</strong> for generating AI responses, demonstrating advanced capabilities in natural language processing and interaction.</p> <p>For more detailed information about the LangChain framework and its capabilities, please refer to their <a href="https://python.langchain.com/v0.2/docs/tutorials/llm_chain/" target="_blank" class="text-blue-500 hover:underline">official documentation</a>.</p>',_,y,j,M,D,G,X,V,ae="Send",z,Y,Z,ne,T=r[3]==="customTranslation"&&oe(r),J=se(r[0]),b=[];for(let i=0;i<J.length;i+=1)b[i]=ie(re(r,J,i));let v=r[2]&&ue();return Y=he(r[7][1]),{c(){e=p("main"),t=p("h2"),t.textContent=n,o=A(),c=p("div"),h=p("label"),a=p("input"),w=O(`\r
          Translation`),C=A(),u=p("label"),l=p("input"),I=O(`\r
          Custom Translation`),U=A(),T&&T.c(),N=A(),P=p("div"),P.innerHTML=E,_=A(),y=p("div");for(let i=0;i<b.length;i+=1)b[i].c();j=A(),v&&v.c(),M=A(),D=p("div"),G=p("input"),X=A(),V=p("button"),V.textContent=ae,this.h()},l(i){e=g(i,"MAIN",{class:!0});var d=L(e);t=g(d,"H2",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-lkjrda"&&(t.textContent=n),o=S(d),c=g(d,"DIV",{});var f=L(c);h=g(f,"LABEL",{});var q=L(h);a=g(q,"INPUT",{type:!0,name:!0}),w=F(q,`\r
          Translation`),q.forEach(k),C=S(f),u=g(f,"LABEL",{});var x=L(u);l=g(x,"INPUT",{type:!0,name:!0}),I=F(x,`\r
          Custom Translation`),x.forEach(k),f.forEach(k),U=S(d),T&&T.l(d),N=S(d),P=g(d,"DIV",{class:!0,"data-svelte-h":!0}),ee(P)!=="svelte-922yl8"&&(P.innerHTML=E),_=S(d),y=g(d,"DIV",{class:!0});var R=L(y);for(let $=0;$<b.length;$+=1)b[$].l(R);j=S(R),v&&v.l(R),R.forEach(k),M=S(d),D=g(d,"DIV",{class:!0});var K=L(D);G=g(K,"INPUT",{placeholder:!0,class:!0}),X=S(K),V=g(K,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(V)!=="svelte-1uccyc0"&&(V.textContent=ae),K.forEach(k),d.forEach(k),this.h()},h(){m(t,"class","text-3xl font-semibold mb-4 text-gray-800"),m(a,"type","radio"),m(a,"name","route"),a.__value="translation",H(a,a.__value),a.checked=!0,m(l,"type","radio"),m(l,"name","route"),l.__value="customTranslation",H(l,l.__value),m(P,"class","mb-4 text-gray-600"),m(y,"class","chat-window border border-gray-300 p-4 h-80 overflow-y-auto mb-4 rounded-lg bg-gray-50"),m(G,"placeholder","Type your message..."),m(G,"class","flex-grow p-2 border border-gray-300 rounded-lg mr-2"),m(V,"class","p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600"),m(D,"class","flex"),m(e,"class","p-6 bg-white rounded-lg shadow-lg mt-8 svelte-1y6c8bf"),Y.p(a,l)},m(i,d){W(i,e,d),s(e,t),s(e,o),s(e,c),s(c,h),s(h,a),a.checked=a.__value===r[3],s(h,w),s(c,C),s(c,u),s(u,l),l.checked=l.__value===r[3],s(u,I),s(e,U),T&&T.m(e,null),s(e,N),s(e,P),s(e,_),s(e,y);for(let f=0;f<b.length;f+=1)b[f]&&b[f].m(y,null);s(y,j),v&&v.m(y,null),s(e,M),s(e,D),s(D,G),H(G,r[1]),s(D,X),s(D,V),z=!0,Z||(ne=[B(a,"change",r[6]),B(l,"change",r[8]),B(G,"input",r[12]),B(G,"keydown",r[13]),B(V,"click",r[5])],Z=!0)},p(i,[d]){if(d&8&&(a.checked=a.__value===i[3]),d&8&&(l.checked=l.__value===i[3]),i[3]==="customTranslation"?T?T.p(i,d):(T=oe(i),T.c(),T.m(e,N)):T&&(T.d(1),T=null),d&1){J=se(i[0]);let f;for(f=0;f<J.length;f+=1){const q=re(i,J,f);b[f]?b[f].p(q,d):(b[f]=ie(q),b[f].c(),b[f].m(y,j))}for(;f<b.length;f+=1)b[f].d(1);b.length=J.length}i[2]?v?d&4&&Q(v,1):(v=ue(),v.c(),Q(v,1),v.m(y,null)):v&&(ye(),te(v,1,1,()=>{v=null}),pe()),d&2&&G.value!==i[1]&&H(G,i[1])},i(i){z||(Q(v),z=!0)},o(i){te(v),z=!1},d(i){i&&k(e),T&&T.d(),ge(b,i),v&&v.d(),Y.r(),Z=!1,ce(ne)}}}function Ce(r,e,t){let n=[],o="",c=!1,h="translation",a="spanish";async function w(){if(o.trim()){t(0,n=[...n,{sender:"User",text:o}]),t(2,c=!0);try{const _=await fetch(`https://0aa9efc95e9f.ngrok.app/api/${h}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o,language:a})});if(_.ok){const y=await _.json();t(0,n=[...n,{sender:"ChatGPT",text:y.response}])}else t(0,n=[...n,{sender:"ChatGPT",text:"Failed to get a response from the server."}])}catch{t(0,n=[...n,{sender:"ChatGPT",text:"An error occurred while communicating with the server."}])}finally{t(2,c=!1)}t(1,o="")}}const C=[[],[]];function u(){h=this.__value,t(3,h)}function l(){h=this.__value,t(3,h)}function I(){a=this.__value,t(4,a)}function U(){a=this.__value,t(4,a)}function N(){a=this.__value,t(4,a)}function P(){o=this.value,t(1,o)}return[n,o,c,h,a,w,u,C,l,I,U,N,P,_=>_.key==="Enter"&&w()]}class Ae extends de{constructor(e){super(),fe(this,e,Ce,we,_e,{})}}export{Ae as component};
