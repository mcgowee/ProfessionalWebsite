import{a as _,t as b}from"../chunks/disclose-version.Dltb2gaL.js";import"../chunks/legacy.BBStmGgr.js";import{a9 as j,aa as k,ar as o,as as f,$ as n,o as a,at as h,au as i,av as A}from"../chunks/runtime.CmOnIqvM.js";import{s as x}from"../chunks/render.t95M__oA.js";import{e as C,i as E}from"../chunks/each.D6RxEqG5.js";import{r as O,s as P}from"../chunks/class.C-r-XYq8.js";import{e as R}from"../chunks/events.JOM3tMXR.js";import{b as $}from"../chunks/input.qspI9FlA.js";import{i as B}from"../chunks/lifecycle.Udn4zncH.js";const I="http://172.22.0.2:8000";async function J(p,c=100){try{const t=await(await fetch(`${I}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:p,max_tokens:c})})).json();if(t.error)throw new Error(t.error);return t.generated_text}catch(e){return console.error("Error generating text:",e),"An error occurred while generating text."}}var L=b('<div class="message"><span> </span> </div>'),M=b('<div class="chat-container svelte-7t9l2w"><h1>Chatbot</h1> <div class="messages"></div> <input type="text" placeholder="Type your message..."> <button>Send</button></div>');function V(p,c){j(c,!1);let e=h(""),t=h([]);async function y(){if(a(e).trim()){n(t,[...a(t),{sender:"User",text:a(e)}]);const r=await J(a(e));n(t,[...a(t),{sender:"Bot",text:r}]),n(e,"")}}B();var m=M(),d=o(f(m),2);C(d,5,()=>a(t),E,(r,u)=>{let g=()=>a(u).sender,T=()=>a(u).text;var v=L(),s=f(v),S=f(s);i(s);var U=o(s);i(v),A(()=>{P(s,g()==="User"?"user":"bot"),x(S,`${g()??""}:`),x(U,` ${T()??""}`)}),_(r,v)}),i(d);var l=o(d,2);O(l);var w=o(l,2);i(m),$(l,()=>a(e),r=>n(e,r)),R("click",w,y),_(p,m),k()}export{V as component};
