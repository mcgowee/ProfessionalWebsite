import { c as create_ssr_component, l as each, h as add_attribute, k as escape } from "../../../chunks/ssr.js";
/* empty css                                                    */
const css = {
  code: "main.svelte-18ehueg{font-family:Arial, sans-serif}.user-message.svelte-18ehueg{text-align:right;color:blue}.ai-message.svelte-18ehueg{text-align:left;color:green}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\r\\n    import Spinner from '../../components/Spinner.svelte';\\r\\n    \\r\\n    let messages = [];\\r\\n    let userInput = '';\\r\\n    let isLoading = false;\\r\\n\\r\\n    async function sendMessage() {\\r\\n        if (userInput.trim()) {\\r\\n            // Add user message to the chat\\r\\n            messages = [...messages, { sender: 'User', text: userInput }];\\r\\n            isLoading = true;\\r\\n\\r\\n            try {\\r\\n                // Make the POST request to the Flask API\\r\\n                const response = await fetch('https://0aa9efc95e9f.ngrok.app/api/sql_qa', {\\r\\n                    method: 'POST',\\r\\n                    headers: {\\r\\n                        'Content-Type': 'application/json'\\r\\n                    },\\r\\n                    body: JSON.stringify({ question: userInput })\\r\\n                });\\r\\n\\r\\n                if (response.ok) {\\r\\n                    const data = await response.json();\\r\\n                    // Add AI response to the chat\\r\\n                    messages = [...messages, { sender: 'AI', text: data.response }];\\r\\n                } else {\\r\\n                    // Handle response errors\\r\\n                    messages = [...messages, { sender: 'AI', text: 'Failed to get a response from the server.' }];\\r\\n                }\\r\\n            } catch (error) {\\r\\n                // Handle network errors\\r\\n                messages = [...messages, { sender: 'AI', text: 'An error occurred while communicating with the server.' }];\\r\\n            } finally {\\r\\n                isLoading = false;\\r\\n            }\\r\\n\\r\\n            // Clear the input field\\r\\n            userInput = '';\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function setSampleQuestion(question) {\\r\\n        userInput = question;\\r\\n    }\\r\\n<\/script>\\r\\n\\r\\n<main class=\\"p-6 bg-white rounded-lg shadow-lg mt-8\\">\\r\\n    <h2 class=\\"text-3xl font-semibold mb-4 text-gray-800\\">SQL QA Chat</h2>\\r\\n    <p class=\\"mb-4 text-gray-600\\">\\r\\n        <strong>This chat uses <span class=\\"text-indigo-500\\">Svelte</span> on the front end and <span class=\\"text-green-500\\">Flask</span> as the API backend.</strong>\\r\\n        It leverages <strong>OpenAI's GPT-3.5</strong> for AI responses to SQL queries.\\r\\n        <span class=\\"text-red-500 font-bold\\">This is an initial prototype.</span> The system is designed to interpret natural language questions, translate them into SQL queries, and execute them against a database to provide meaningful answers.\\r\\n    </p>\\r\\n    <div class=\\"mb-4 text-gray-600\\">\\r\\n        <p><strong>Summary of the Chinook Database:</strong></p>\\r\\n        <p>The Chinook database is a sample database representing a digital media store. It includes tables for artists, albums, media tracks, invoices, and customers, among others. This makes it an excellent resource for practicing SQL queries and learning database management. The schema includes relationships between these tables, such as artists to albums and invoices to customers.</p>\\r\\n        <p>For more detailed information, please refer to the <a href=\\"https://www.sqlitetutorial.net/sqlite-sample-database/\\" target=\\"_blank\\" class=\\"text-blue-500 hover:underline\\">SQLite Tutorial</a>.</p>\\r\\n        <img src=\\"/src/assets/ChinookDB.png\\" alt=\\"Chinook Database Schema\\" class=\\"w-1/3 mt-4\\"/>\\r\\n    </div>\\r\\n    <div class=\\"mb-4\\">\\r\\n        <button on:click={() => setSampleQuestion(\\"What are the genres?\\")} class=\\"mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300\\">What are the genres?</button>\\r\\n        <button on:click={() => setSampleQuestion(\\"List the top ten artists with the most albums and add a count.\\")} class=\\"mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300\\">List the top ten artists with the most albums and add a count.</button>\\r\\n        <button on:click={() => setSampleQuestion(\\"Show me all albums by Led Zeppelin.\\")} class=\\"mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300\\">Show me all albums by Led Zeppelin.</button>\\r\\n        <button on:click={() => setSampleQuestion(\\"What is the average invoice total?\\")} class=\\"mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300\\">What is the average invoice total?</button>\\r\\n    </div>\\r\\n    <div class=\\"chat-window border border-gray-300 p-4 h-80 overflow-y-auto mb-4 rounded-lg bg-gray-50\\">\\r\\n        {#each messages as { sender, text }, i}\\r\\n            <div class=\\"{sender.toLowerCase()}-message mb-2\\">\\r\\n                <strong>{sender}:</strong> {text}\\r\\n            </div>\\r\\n        {/each}\\r\\n        {#if isLoading}\\r\\n            <div class=\\"flex justify-center items-center mt-2\\">\\r\\n                <Spinner />\\r\\n            </div>\\r\\n        {/if}\\r\\n    </div>\\r\\n    <div class=\\"flex\\">\\r\\n        <input bind:value={userInput} on:keydown={(e) => e.key === 'Enter' && sendMessage()} placeholder=\\"Type your SQL question...\\" class=\\"flex-grow p-2 border border-gray-300 rounded-lg mr-2\\" />\\r\\n        <button on:click={sendMessage} class=\\"p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600\\">Send</button>\\r\\n    </div>\\r\\n</main>\\r\\n\\r\\n<style lang=\\"css\\">\\r\\n    main {\\r\\n        font-family: Arial, sans-serif;\\r\\n    }\\r\\n    \\r\\n    .user-message {\\r\\n        text-align: right;\\r\\n        color: blue;\\r\\n    }\\r\\n    \\r\\n    .ai-message {\\r\\n        text-align: left;\\r\\n        color: green;\\r\\n    }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAsFI,mBAAK,CACD,WAAW,CAAE,KAAK,CAAC,CAAC,UACxB,CAEA,4BAAc,CACV,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,IACX,CAEA,0BAAY,CACR,UAAU,CAAE,IAAI,CAChB,KAAK,CAAE,KACX"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let messages = [];
  let userInput = "";
  $$result.css.add(css);
  return `<main class="p-6 bg-white rounded-lg shadow-lg mt-8 svelte-18ehueg"><h2 class="text-3xl font-semibold mb-4 text-gray-800" data-svelte-h="svelte-16t9vs1">SQL QA Chat</h2> <p class="mb-4 text-gray-600" data-svelte-h="svelte-1i4gr55"><strong>This chat uses <span class="text-indigo-500">Svelte</span> on the front end and <span class="text-green-500">Flask</span> as the API backend.</strong>
        It leverages <strong>OpenAI&#39;s GPT-3.5</strong> for AI responses to SQL queries.
        <span class="text-red-500 font-bold">This is an initial prototype.</span> The system is designed to interpret natural language questions, translate them into SQL queries, and execute them against a database to provide meaningful answers.</p> <div class="mb-4 text-gray-600" data-svelte-h="svelte-181j51c"><p><strong>Summary of the Chinook Database:</strong></p> <p>The Chinook database is a sample database representing a digital media store. It includes tables for artists, albums, media tracks, invoices, and customers, among others. This makes it an excellent resource for practicing SQL queries and learning database management. The schema includes relationships between these tables, such as artists to albums and invoices to customers.</p> <p>For more detailed information, please refer to the <a href="https://www.sqlitetutorial.net/sqlite-sample-database/" target="_blank" class="text-blue-500 hover:underline">SQLite Tutorial</a>.</p> <img src="/src/assets/ChinookDB.png" alt="Chinook Database Schema" class="w-1/3 mt-4"></div> <div class="mb-4"><button class="mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300" data-svelte-h="svelte-1mcoh0r">What are the genres?</button> <button class="mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300" data-svelte-h="svelte-ix2woj">List the top ten artists with the most albums and add a count.</button> <button class="mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300" data-svelte-h="svelte-12clf35">Show me all albums by Led Zeppelin.</button> <button class="mr-2 p-2 bg-gray-200 rounded-lg hover:bg-gray-300" data-svelte-h="svelte-a53043">What is the average invoice total?</button></div> <div class="chat-window border border-gray-300 p-4 h-80 overflow-y-auto mb-4 rounded-lg bg-gray-50">${each(messages, ({ sender, text }, i) => {
    return `<div class="${escape(sender.toLowerCase(), true) + "-message mb-2 svelte-18ehueg"}"><strong>${escape(sender)}:</strong> ${escape(text)} </div>`;
  })} ${``}</div> <div class="flex"><input placeholder="Type your SQL question..." class="flex-grow p-2 border border-gray-300 rounded-lg mr-2"${add_attribute("value", userInput, 0)}> <button class="p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600" data-svelte-h="svelte-1uccyc0">Send</button></div> </main>`;
});
export {
  Page as default
};
