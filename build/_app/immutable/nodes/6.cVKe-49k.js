import{a as C,t as P}from"../chunks/disclose-version.DK7D1_5h.js";import"../chunks/legacy.BBStmGgr.js";import{ar as i,as as t,o as a,$ as r,at as f,aw as y,au as n,av as K,ap as Q}from"../chunks/runtime.CmOnIqvM.js";import{s as E}from"../chunks/render.0Bb0B0t1.js";import{i as M}from"../chunks/if.Dp04ebBQ.js";import{e as V,i as W}from"../chunks/each.D6RxEqG5.js";import{r as b,s as X}from"../chunks/class.C-r-XYq8.js";import{e as N}from"../chunks/events.JOM3tMXR.js";import{a as x,b as Y}from"../chunks/input.qspI9FlA.js";import{S as Z}from"../chunks/Spinner.DVRFKzRS.js";var ee=P('<div><label><input type="radio" name="language"> Spanish</label> <label><input type="radio" name="language"> German</label> <label><input type="radio" name="language"> Japanese</label></div>'),ae=P("<div><strong> </strong> </div>"),te=P('<div class="flex justify-center items-center mt-2"><!></div>'),re=P(`<main class="p-6 bg-white rounded-lg shadow-lg mt-8 svelte-1y6c8bf"><h2 class="text-3xl font-semibold mb-4 text-gray-800">Chat with OpenAI ChatGPT</h2> <div><label><input type="radio" name="route" checked> Translation</label> <label><input type="radio" name="route"> Custom Translation</label></div> <!> <div class="mb-4 text-gray-600"><p><strong>This chat application is built with <a href="https://svelte.dev/" target="_blank" class="text-indigo-500 hover:underline">Svelte</a> on the frontend and <a href="https://pypi.org/project/Flask/" target="_blank" class="text-green-500 hover:underline">Flask</a> as the API backend.</strong></p> <p>It utilizes <strong>OpenAI's ChatGPT</strong> for generating AI responses, demonstrating advanced capabilities in natural language processing and interaction.</p> <p>For more detailed information about the LangChain framework and its capabilities, please refer to their <a href="https://python.langchain.com/v0.2/docs/tutorials/llm_chain/" target="_blank" class="text-blue-500 hover:underline">official documentation</a>.</p></div> <div class="chat-window border border-gray-300 p-4 h-80 overflow-y-auto mb-4 rounded-lg bg-gray-50"><!> <!></div> <div class="flex"><input placeholder="Type your message..." class="flex-grow p-2 border border-gray-300 rounded-lg mr-2"> <button class="p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600">Send</button></div></main>`);function ce(R){const L=[],S=[];let o=f([]),u=f(""),j=f(!1),g=f("translation"),p=f("spanish");async function O(){if(a(u).trim()){r(o,[...a(o),{sender:"User",text:a(u)}]),r(j,!0);try{const e=await fetch(`https://0aa9efc95e9f.ngrok.app/api/${a(g)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a(u),language:a(p)})});if(e.ok){const s=await e.json();r(o,[...a(o),{sender:"ChatGPT",text:s.response}])}else r(o,[...a(o),{sender:"ChatGPT",text:"Failed to get a response from the server."}])}catch{r(o,[...a(o),{sender:"ChatGPT",text:"An error occurred while communicating with the server."}])}finally{r(j,!1)}r(u,"")}}var G=re(),I=i(t(G),2),A=t(I),w=t(A);b(w),w.value=(w.__value="translation")==null?"":"translation",y(),n(A);var $=i(A,2),k=t($);b(k),k.value=(k.__value="customTranslation")==null?"":"customTranslation",y(),n($),n(I);var J=i(I,2);{var U=e=>{var s=ee(),l=t(s),c=t(l);b(c),c.value=(c.__value="spanish")==null?"":"spanish",y(),n(l);var d=i(l,2),m=t(d);b(m),m.value=(m.__value="german")==null?"":"german",y(),n(d);var h=i(d,2),_=t(h);b(_),_.value=(_.__value="japanese")==null?"":"japanese",y(),n(h),n(s),x(S,[],c,()=>a(p),v=>r(p,v)),x(S,[],m,()=>a(p),v=>r(p,v)),x(S,[],_,()=>a(p),v=>r(p,v)),C(e,s)};M(J,e=>{a(g)==="customTranslation"&&e(U)})}var F=i(J,4),q=t(F);V(q,1,()=>a(o),W,(e,s)=>{let l=()=>a(s).sender,c=()=>a(s).text;var d=ae();const m=Q(()=>`${l().toLowerCase()??""}-message mb-2 svelte-1y6c8bf`);var h=t(d),_=t(h);n(h);var v=i(h);n(d),K(()=>{X(d,a(m)),E(_,`${l()??""}:`),E(v,` ${c()??""}`)}),C(e,d)});var B=i(q,2);{var D=e=>{var s=te(),l=t(s);Z(l),n(s),C(e,s)};M(B,e=>{a(j)&&e(D)})}n(F);var z=i(F,2),T=t(z);b(T);var H=i(T,2);n(z),n(G),x(L,[],w,()=>a(g),e=>r(g,e)),x(L,[],k,()=>a(g),e=>r(g,e)),Y(T,()=>a(u),e=>r(u,e)),N("keydown",T,e=>e.key==="Enter"&&O()),N("click",H,O),C(R,G)}export{ce as component};
